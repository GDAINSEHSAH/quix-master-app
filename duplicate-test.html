<!DOCTYPE html>
<html>
<head>
    <title>Duplicate Test</title>
</head>
<body>
    <h1>Testing for Duplicates...</h1>
    <div id="results"></div>

    <script src="data/questions.js"></script>
    <script src="test-duplicates.js"></script>
    <script>
        // Display results
        const resultsDiv = document.getElementById('results');

        if (window.testResult) {
            if (window.testResult.success) {
                resultsDiv.innerHTML = '<h2 style="color: green;">✅ No duplicates found!</h2>';
            } else {
                resultsDiv.innerHTML = '<h2 style="color: red;">❌ Duplicates found!</h2>';

                window.testResult.duplicates.forEach((dup, i) => {
                    const div = document.createElement('div');
                    div.style.border = '1px solid red';
                    div.style.margin = '10px';
                    div.style.padding = '10px';

                    let html = `<h3>Duplicate #${i+1}: "${dup.question}"</h3>`;
                    html += `<p>Found in ${dup.count} locations:</p><ul>`;

                    dup.locations.forEach(loc => {
                        html += `<li>${loc.sectionName} - Level ${loc.level} - Question ${loc.index + 1}</li>`;
                    });

                    html += '</ul>';
                    div.innerHTML = html;
                    resultsDiv.appendChild(div);
                });
            }
        }
    </script>
</body>
</html>